<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta property="og:title" content="unit-test">
<meta property="og:description" content="Sharing the humble technical knowledge we're using to improve education">
<meta property="og:type" content="website">
<meta property="og:url" content="/tags/unit-test/">
<meta property="og:updated_time" content="2021-10-24T18:38:54+07:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="unit-test">
<meta name=twitter:description content="Sharing the humble technical knowledge we're using to improve education">
<meta name=generator content="Hugo 0.89.4">
<link rel=canonical href=/tags/unit-test/>
<title>Manabie Tech Blog</title>
<link href=/css/style.beb8012edc08ba10be012f079d618dc243812267efe62e11f22fe49618f976a4.css rel=stylesheet integrity="sha256-vrgBLtwIuhC+AS8HnWGNwkOBImfv5i4R8i/klhj5dqQ=" crossorigin=anonymous>
<script defer src=/js/fontawesome.min.f5072c55a0721857184db93a50561d7dc13975b4de2e19db7f81eb5f3fa57270.js integrity="sha256-9QcsVaByGFcYTbk6UFYdfcE5dbTeLhnbf4HrXz+lcnA=" crossorigin=anonymous></script>
<link rel=alternate type=application/rss+xml href=/tags/unit-test/index.xml title="Manabie Tech Blog">
<script src=/js/haven.umd.min.5f4a3edd16edd243f2a9b07dbf1b371f8f1b18fbb29319aba09431678609a175.js integrity="sha256-X0o+3Rbt0kPyqbB9vxs3H48bGPuykxmroJQxZ4YJoXU=" crossorigin=anonymous></script>
<script>Haven.create({notification:{styles:{background:'#428bca',textColor:'#ffffff',buttonBackgroundColor:'#f71559',buttonTextColor:'#ffffff'}},translations:{en:{notification:{policy:'Learn more.',message:'This website uses cookies.',accept:'Agree',decline:'Disagree'}}},services:[{name:'google-analytics',options:{id:"G-EJ2GNQJNM6"},purposes:['analytics'],inject:!0}]})</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EJ2GNQJNM6"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-EJ2GNQJNM6',{anonymize_ip:!1})}</script>
</head>
<body>
<div class=blog-masthead>
<div class=container>
<nav class="nav blog-nav">
<a class=nav-link href=/>Home</a>
</nav>
</div>
</div>
<header class=blog-header>
<div class=container>
<h1 class=blog-title dir=auto><a href=/ rel=home>Manabie Tech Blog</a></h1>
<p class="lead blog-description" dir=auto>Sharing the humble technical knowledge we&rsquo;re using to improve education</p>
</div>
</header>
<div class=container>
<div class=row>
<div class="col-sm-8 blog-main">
<article class=blog-post>
<header>
<h2 class=blog-post-title dir=auto><a href=/2021/10/snapshot-test-your-postgresql-in-golang-pgx-driver/>Snapshot test your Postgresql in Golang pgx driver</a></h2>
<p class=blog-post-meta><time datetime=2021-10-20T14:28:23+07:00>Wed Oct 20, 2021</time> by nvcnvn in
<span class="fas fa-folder" aria-hidden=true></span>&nbsp;<a href=/categories/devsecops/ rel="category tag">DevSecOps</a>, <a href=/categories/testing/ rel="category tag">Testing</a>
<span class="fas fa-tag" aria-hidden=true></span>&nbsp;<a href=/tags/postgresql/ rel=tag>Postgresql</a>, <a href=/tags/unit-test/ rel=tag>unit-test</a>, <a href=/tags/golang/ rel=tag>Golang</a>
</p>
</header>
If your unit-test understand SQL syntax, you can cover many behaviors of your code without the need of starting a real DB. Want to understand Postgresql syntax? just simply import Postgresql parser to your program, https://github.com/pganalyze/pg_query_go helps you to do that.
How about using a containerized DB? Sometimes, the repository layer doesn&rsquo;t have much logic (maybe concat some WHERE conditions), only propagate the SQL statement to DB.
Testing with a simple containerized DB is a good option where you can:
<a href=/2021/10/snapshot-test-your-postgresql-in-golang-pgx-driver/>Read more â†’</a>
</article>
</div>
<aside class="col-sm-3 ml-auto blog-sidebar">
<section class=sidebar-module>
<h4>Links</h4>
<ol class=list-unstyled>
<li><a href=https://manabie.com>About Us</a></li>
<li><a href=https://manabie.breezy.hr>Careers</a></li>
</ol>
</section>
</aside>
</div>
</div>
<footer class=blog-footer>
<p dir=auto>
Except where otherwise noted, content on this site is licensed under a <a href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Attribution 4.0 International license</a>.
</p>
<p>
<a href=#>Back to top</a>
</p>
</footer>
</body>
</html>